Создание историии изменения статуса прибора.

Приборы элемнты инфоблока, которые имеют поле статус. При изменении статуса вызывается функция AddEventHandler. С помощью событиия OnBeforeIBlockElementUpdate, которое вызывается перед изменением поля статус, заисывается текущий статус, а также наименование прибора и фамилия ответственного за прибор в глобальный массив $arFields. После изменения поля статус обрабатывается событие OnAfterIBlockElementUpdate, сравнивается текущее состояние записи (статус, ответственный и наименование). При наличии изменений производится запись в инфоблок истории изменнений.
